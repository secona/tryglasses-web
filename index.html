<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="utf-8">
    <title>TryGlasses</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="src/style.css" rel="stylesheet" type="text/css">
  </head>
  <body class="h-screen flex overflow-hidden bg-base-300">
    <aside
      class="w-80 bg-gradient-to-b from-base-200 to-base-300 h-full flex flex-col flex-shrink-0 overflow-y-auto border-r border-base-100/50 shadow-2xl"
    >
      <div class="p-6 bg-gradient-to-r from-primary/20 to-secondary/20 sticky top-0 z-10 border-b border-primary/30 backdrop-blur-sm">
        <h1 class="font-bold text-2xl text-primary flex items-center gap-2">
          TryGlasses
        </h1>
        <p class="text-xs text-base-content/60 mt-1">Virtual Try-On Studio</p>
      </div>
      <div class="p-6 flex flex-col gap-8">
        <div class="bg-base-100 rounded-xl p-5 shadow-lg border border-base-300">
          <div class="flex items-center gap-2 mb-4">
            <span class="font-bold text-sm uppercase tracking-wide">Load Data</span>
          </div>
          <input
            type="file"
            id="file-data"
            accept=".zip"
            class="file-input file-input-bordered file-input-primary w-full file-input-sm"
          >
          <button id="btn-load" class="btn btn-primary btn-block mt-4 shadow-lg hover:shadow-xl transition-shadow">
            Load Model
          </button>
        </div>
        
        <div class="bg-base-100 rounded-xl p-5 shadow-lg border border-base-300">
          <div class="flex items-center gap-2 mb-5">
            <span class="font-bold text-sm uppercase tracking-wide">Glasses Control</span>
          </div>
          <div class="space-y-4">
            <div class="bg-base-200/50 rounded-lg p-3">
              <div class="grid grid-cols-[2.5rem_1fr_3.5rem] items-center gap-3">
                <span class="text-sm font-bold text-primary">X</span>
                <input
                  id="translate-x"
                  type="range"
                  min="-1"
                  max="1"
                  value="0"
                  step="0.01"
                  class="range range-xs range-primary"
                />
                <span id="valX" class="text-right text-xs font-mono bg-base-300 px-2 py-1 rounded">0.00</span>
              </div>
            </div>
            <div class="bg-base-200/50 rounded-lg p-3">
              <div class="grid grid-cols-[2.5rem_1fr_3.5rem] items-center gap-3">
                <span class="text-sm font-bold text-primary">Y</span>
                <input
                  id="translate-y"
                  type="range"
                  min="-1"
                  max="1"
                  value="0"
                  step="0.01"
                  class="range range-xs range-primary"
                />
                <span id="valY" class="text-right text-xs font-mono bg-base-300 px-2 py-1 rounded">0.00</span>
              </div>
            </div>
            <div class="bg-base-200/50 rounded-lg p-3">
              <div class="grid grid-cols-[2.5rem_1fr_3.5rem] items-center gap-3">
                <span class="text-sm font-bold text-primary">Z</span>
                <input
                  id="translate-z"
                  type="range"
                  min="-1"
                  max="1"
                  value="0"
                  step="0.01"
                  class="range range-xs range-primary"
                />
                <span id="valZ" class="text-right text-xs font-mono bg-base-300 px-2 py-1 rounded">0.00</span>
              </div>
            </div>
          </div>
          <div class="divider my-4"></div>
          <button id="btn-render" class="btn btn-secondary btn-block shadow-lg hover:shadow-xl transition-shadow">
            Render Result
          </button>
        </div>

        <div class="bg-base-100 rounded-xl p-5 shadow-lg border border-base-300">
          <div class="flex items-center gap-2 mb-5">
            <span class="font-bold text-sm uppercase tracking-wide">Glasses Selector</span>
          </div>
          <select id="glasses-selector" class="select select-bordered select-primary w-full">
            <option value="oculos">Oculos</option>
            <option value="hearts">Hearts</option>
            <option value="snowflake">Snowflake</option>
          </select>
        </div>
      </div>
    </aside>

    <div id="canvas-container" class="flex-grow relative h-full bg-neutral-content/5">
      <div
        class="absolute inset-0 opacity-10 pointer-events-none"
        style="background-image: radial-gradient(#ffffff 1px, transparent 1px); background-size: 20px 20px;"
      ></div>
      <canvas
        id="glCanvas"
        aria-label="WebGL2 canvas"
        class="block w-full h-full outline-none"
      ></canvas>
    </div>

    <div id="render-modal" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-50" style="display: none;">
      <div class="bg-base-200 rounded-xl p-6 max-w-4xl max-h-[90vh] overflow-auto shadow-2xl">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-bold">Rendered Result</h2>
          <button id="btn-close-modal" class="btn btn-sm btn-circle btn-ghost">âœ•</button>
        </div>
        <canvas id="render-canvas" width="600" height="600" class="border border-base-300 bg-black"></canvas>
        <div class="mt-4 flex gap-2">
          <button id="btn-save-render" class="btn btn-primary">Save Image</button>
          <button id="btn-close-modal-2" class="btn btn-ghost">Close</button>
        </div>
      </div>
    </div>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
